(()=>{"use strict";const t=t=>{const e=document.querySelector(`${t}`);if(!e)throw new Error("Selector Not Valid");return e},e=(t,e,i)=>function(){const s=Array.from((t=>{const e=document.querySelectorAll(`${t}`);if(!e)throw new Error("Selector Not Valid");return e})(t));s.map((t=>t.addEventListener(e,i)))};var i,s,a,o,l,n,d=function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)};let c;s=new WeakMap,a=new WeakMap,o=new WeakMap,n=new WeakMap,i=new WeakSet,l=function(){return JSON.parse(localStorage.getItem(d(this,s,"f"))||"[]")},c||(c=new class{constructor(){i.add(this),s.set(this,"Todo"),a.set(this,{id:null,name:"",time:""}),o.set(this,{id:0,title:"",listTodo:[d(this,a,"f")]}),n.set(this,((t,e,i=0)=>t[i].id===parseInt(e)?i:d(this,n,"f").call(this,t,e,i+1))),localStorage.getItem(d(this,s,"f"))||(console.log("Create Todo Collection"),localStorage.setItem(d(this,s,"f"),"[]"))}getTodo(){return JSON.parse(localStorage.getItem(d(this,s,"f"))||"[]")}deleteAllTodo(){localStorage.setItem(d(this,s,"f"),"[]")}createTodo(t){d(this,o,"f").id=(new Date).getTime(),d(this,o,"f").title=t;const e=d(this,i,"m",l).call(this);return e.push(d(this,o,"f")),localStorage.setItem(d(this,s,"f"),JSON.stringify(e)),d(this,o,"f")}deleteTodo(t){if(!t)return!1;const e=d(this,i,"m",l).call(this),a=d(this,n,"f").call(this,e,t);return e.splice(a,1),localStorage.setItem(d(this,s,"f"),JSON.stringify(e)),!0}addListTodo(t,e,o){if(!t)return;const c=o.getHours(),h=o.getMinutes();d(this,a,"f").id=o.getTime(),d(this,a,"f").name=e,d(this,a,"f").time=`${c} : ${h}`;const r=d(this,i,"m",l).call(this);return r[d(this,n,"f").call(this,r,t)].listTodo.push(d(this,a,"f")),localStorage.setItem(d(this,s,"f"),JSON.stringify(r)),d(this,a,"f")}deleteListTodo(t,e){if(!t||!e)return!1;const a=d(this,i,"m",l).call(this),o=d(this,n,"f").call(this,a,t),c=d(this,n,"f").call(this,a[o].listTodo,e);return a[o].listTodo.splice(c,1),localStorage.setItem(d(this,s,"f"),JSON.stringify(a)),!0}});const h=(e,i)=>{t(".popup-content").innerHTML=e,i&&i.map((t=>t()))},r=()=>t("._popup").classList.add("active"),v=()=>t("._popup").classList.remove("active");t(".popup-close svg").addEventListener("click",(()=>t("._popup").classList.remove("active")));const m=e(".delete-todolist","click",(function(){if(!confirm("Anda yakin?").valueOf())return;const t=this.dataset.id;c.deleteTodo(t),T()})),u=e(".create-list-todolist","click",(function(){const e=t('[name="name-list-todolist"]').value;let i=t('[name="time-list-todolist"]').value;i=i.split(":");let s=new Date;s=new Date(s.getFullYear(),s.getMonth(),s.getDate(),i[0],i[1]),this.dataset.id&&(c.addListTodo(this.dataset.id,e,s),T(),v())})),p=e(".new-list-todolist","click",(function(){this.dataset.id&&(h(`\n        <h4>Tambah Daftar Todolist</h4>\n\n        <div class="input">\n            <input type="text" name="name-list-todolist" placeholder="Nama Kegiatan" />\n        </div>\n\n        <div class="input">\n            <input type="time" name="time-list-todolist" />\n        </div>\n\n        <div class="_btn-submit">\n            <button type="button" class="btn-submit create-list-todolist" data-id="${this.dataset.id}">Tambah Daftar Todolist</button>\n        </div>\n    `,[u]),r())})),f=e(".delete-list-todolist","click",(function(){c.deleteListTodo(this.dataset.todoid,this.dataset.id),T()})),g=e('[data-target="action-list-todolist"]',"click",(function(){t(`.${this.dataset.target}`).classList.toggle("active")})),w=(t,e,i,s)=>`\n        <li>\n            <span class="time">${t}</span>\n            <span class="name">${e}</span>\n            <div class="action-list-todolist">\n                <ul class="action-list">\n                    <li>\n                        <button data-id="${i}" data-todoId="${s}" class="delete-list-todolist">Tandai Selesai</button>\n                    </li>\n                </ul>\n\n                <svg data-target="action-list-todolist" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16"><path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" /></svg>\n            </div>\n        </li>\n    `,z=(t,e,i)=>`\n        <div class="list-todolist-action">\n            <span class="delete-todolist" title="Hapus Todolist Ini" data-id="${t}">\n                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/><path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/></svg>\n            </span>\n            <span class="new-list-todolist" title="Tambah Daftar Todolist" data-id="${t}">\n                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-square-dotted" viewBox="0 0 16 16"><path d="M2.5 0c-.166 0-.33.016-.487.048l.194.98A1.51 1.51 0 0 1 2.5 1h.458V0H2.5zm2.292 0h-.917v1h.917V0zm1.833 0h-.917v1h.917V0zm1.833 0h-.916v1h.916V0zm1.834 0h-.917v1h.917V0zm1.833 0h-.917v1h.917V0zM13.5 0h-.458v1h.458c.1 0 .199.01.293.029l.194-.981A2.51 2.51 0 0 0 13.5 0zm2.079 1.11a2.511 2.511 0 0 0-.69-.689l-.556.831c.164.11.305.251.415.415l.83-.556zM1.11.421a2.511 2.511 0 0 0-.689.69l.831.556c.11-.164.251-.305.415-.415L1.11.422zM16 2.5c0-.166-.016-.33-.048-.487l-.98.194c.018.094.028.192.028.293v.458h1V2.5zM.048 2.013A2.51 2.51 0 0 0 0 2.5v.458h1V2.5c0-.1.01-.199.029-.293l-.981-.194zM0 3.875v.917h1v-.917H0zm16 .917v-.917h-1v.917h1zM0 5.708v.917h1v-.917H0zm16 .917v-.917h-1v.917h1zM0 7.542v.916h1v-.916H0zm15 .916h1v-.916h-1v.916zM0 9.375v.917h1v-.917H0zm16 .917v-.917h-1v.917h1zm-16 .916v.917h1v-.917H0zm16 .917v-.917h-1v.917h1zm-16 .917v.458c0 .166.016.33.048.487l.98-.194A1.51 1.51 0 0 1 1 13.5v-.458H0zm16 .458v-.458h-1v.458c0 .1-.01.199-.029.293l.981.194c.032-.158.048-.32.048-.487zM.421 14.89c.183.272.417.506.69.689l.556-.831a1.51 1.51 0 0 1-.415-.415l-.83.556zm14.469.689c.272-.183.506-.417.689-.69l-.831-.556c-.11.164-.251.305-.415.415l.556.83zm-12.877.373c.158.032.32.048.487.048h.458v-1H2.5c-.1 0-.199-.01-.293-.029l-.194.981zM13.5 16c.166 0 .33-.016.487-.048l-.194-.98A1.51 1.51 0 0 1 13.5 15h-.458v1h.458zm-9.625 0h.917v-1h-.917v1zm1.833 0h.917v-1h-.917v1zm1.834-1v1h.916v-1h-.916zm1.833 1h.917v-1h-.917v1zm1.833 0h.917v-1h-.917v1zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/></svg>\n            </span>\n        </div>\n\n        <div class="todolist">\n            <h2 class="todolist-title">${e}</h2>\n            <ul class="list-todolist">${i}</ul>\n        </div>\n    `,T=()=>{const e=c.getTodo();let i="";e.map((({id:t,title:e,listTodo:s})=>{const a=t;let o="";s.map((({id:t,name:e,time:i})=>{t&&(o+=w(i,e,t,a))})),i+=z(a,e,o)})),t(".todolist-content").innerHTML=i,m(),p(),f(),g()},b=()=>{const e=t('[name="name-todolist"]').value;(e=>{let i="";e.listTodo.map((({id:t,time:s,name:a})=>{t&&(i+=w(s,a,t,e.id))})),t(".todolist-content").innerHTML+=z(e.id,e.title,i),m(),p(),f()})(c.createTodo(e)),v()},M=[e(".create-todo","click",b),e('[name="name-todolist"]',"keydown",(t=>{"Enter"===t.key&&b()}))],S=t(".todolist-action");document.addEventListener("DOMContentLoaded",(()=>T())),S.addEventListener("click",(({target:t})=>{t.classList.contains("new-todolist")&&(h('\n        <h4>Tambah Todolist</h4>\n\n        <div class="input">\n            <input type="text" name="name-todolist" placeholder="Judul Todolist" />\n        </div>\n\n        <div class="_btn-submit">\n            <button type="button" class="btn-submit create-todo">Tambah Todolist</button>\n        </div>\n    ',M),r()),t.classList.contains("remove-all-todolist")&&confirm("Anda Yakin?").valueOf()&&(c.deleteAllTodo(),T())}))})();